<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[9月12日 2.6--2.9 相对与绝对路径 cd命令 创建和删除目录mkdir/rmdir rm命令]]></title>
    <url>%2F2018%2F12%2F09%2F%E7%9B%B8%E5%AF%B9%E4%B8%8E%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84%20%20cd%E5%91%BD%E4%BB%A4%20%E5%88%9B%E5%BB%BA%E5%92%8C%E5%88%A0%E9%99%A4%E7%9B%AE%E5%BD%95mkdirrmdir%20%20rm%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[绝对路径 ：以根“/”开头的路径都是绝对路径。[root@aminglinux-01 ~]# ls /root/.ssh/authorized_keys/root/.ssh/authorized_keys 不管在那个路径下，都能都能通过绝对路径找到文件。从根“/”开始任何文件都有绝对路径。 相对路径 ：相对于当前目录的路径，不是从根“/”开始的路径[root@aminglinux-01 ~]# cd /etc/sysconfig/ [root@aminglinux-01 sysconfig]# ls network-scripts/ifcfg-ens33 network-scripts/ifcfg-ens33 [root@aminglinux-01 sysconfig]# pwd /etc/sysconfig pwd命令是用来显示当前路径，当前的目录是哪里。 cd 是切换目录的命令2.7 cd命令 cd 切换目录命令。change directory 的缩写 cd - ：这个命令的就是切换上一次目录的所在位置。切换非常方便。 [root@localhost ~]# cd - / [root@localhost /]# cd - /root [root@localhost ~]# cd - /[root@localhost /]# cd -/root[root@localhost ~]# 直接输入命令：cd无论在哪个目录下，输入cd都会回到登陆系统的用户的家目录下。 [root@localhost ~]# pwd /root[root@localhost ~]# cd [root@localhost ~]# pwd /root[root@localhost ~]# 命令：cd ~同样是直接返回用户的家目录 命令：cd ..返回上一层目录 其他选项不常用，可以man cd 来查看用法。2.8 创建和删除目录 创建目录 mkdir mkdir是make directory的缩写 [root@localhost ~]# ls anaconda-ks.cfg[root@localhost ~]# mkdir 1.txt [root@localhost ~]# ls 1.txt anaconda-ks.cfg [root@localhost ~]# mkdir -p 创建连续的文件夹正常用mkdir创建连续的文件夹是不可以的，如下 [root@localhost ~]# mkdir 11/22/33/44/55 mkdir: 无法创建目录”11/22/33/44/55”: 没有那个文件或目录[root@localhost ~]# 加-p 属性即可创建成功 [root@localhost ~]# mkdir -p 11/22/33/44/55[root@localhost ~]# tree.├── 11│ └── 22│ └── 33│ └── 44│ └── 55├── 1.txt└── anaconda-ks.cfg 6 directories, 1 file[root@localhost ~]# mkdir -pv 创建连续的文件夹并显示创建过程 [root@localhost ~]# mkdir -pv 111/222/333/444/555 mkdir: 已创建目录 “111” mkdir: 已创建目录 “111/222” mkdir: 已创建目录 “111/222/333” mkdir: 已创建目录 “111/222/333/444” mkdir: 已创建目录 “111/222/333/444/555” [root@localhost ~]# 删除目录 rmdirrmdir是remove directory的缩写 rmdir 直接运行时不能删除非空目录，也就是只能删除空文件夹，如下 root@localhost ~]# rmdir /tmp/aminglinux/ rmdir: 删除 “/tmp/aminglinux/“ 失败: 目录非空 [root@localhost ~]# touch /tmp/aminglinux/222/aaa/2.txt [root@localhost ~]# rmdir /tmp/aminglinux/222/aaa/ rmdir: 删除 “/tmp/aminglinux/222/aaa/“ 失败: 目录非空 [root@localhost ~]# rmdir -p 也是可以连续删除空文件夹的。但必须是空的，如果是非空则删不掉，只删除空的 [root@aminglinux-01 ~]# mkdir -p /tmp/aminglinux/222/yyyy/uuuu/iiii/ [root@aminglinux-01 ~]# rmdir -pv /tmp/aminglinux/222/yyyy/uuuu/iiii/ rmdir: 正在删除目录 “/tmp/aminglinux/222/yyyy/uuuu/iiii/“ rmdir: 正在删除目录 “/tmp/aminglinux/222/yyyy/uuuu”rmdir: 正在删除目录 “/tmp/aminglinux/222/yyyy”rmdir: 正在删除目录 “/tmp/aminglinux/222”rmdir: 删除目录 “/tmp/aminglinux/222” 失败: 目录非空 mdir只能删除目录，而且必须是空目录，要想全部删除只能先删除里面的文件夹后者是文件。-p 比较危险，一般不用。 2.9 rm命令之前学习的rmdir 删除局限性是比较大的。这回试试rm命令能否顺利删除有文件的目录呢 [root@aminglinux-01 ~]# tree /tmp/aminglinux//tmp/aminglinux/ ├── 111 │ └── 222 │ └── 333 └── 222 └── aaa ├── 1.txt └── bbb └── ccc 7 directories, 1 file[root@aminglinux-01 ~]# rm /tmp/aminglinux/222/ rm: 无法删除”/tmp/aminglinux/222/“: 是一个目录 [root@aminglinux-01 ~]# rm -r /tmp/aminglinux/222/ rm：是否进入目录”/tmp/aminglinux/222/“? y rm：是否进入目录”/tmp/aminglinux/222/aaa”? y rm：是否进入目录”/tmp/aminglinux/222/aaa/bbb”? y rm：是否删除目录 “/tmp/aminglinux/222/aaa/bbb/ccc”？y rm：是否删除目录 “/tmp/aminglinux/222/aaa/bbb”？y rm：是否删除普通空文件 “/tmp/aminglinux/222/aaa/1.txt”？y rm：是否删除目录 “/tmp/aminglinux/222/aaa”？y rm：是否删除目录 “/tmp/aminglinux/222/“？y [root@aminglinux-01 ~]# tree /tmp/aminglinux/ /tmp/aminglinux/└── 111 └── 222 └── 3333 directories, 0 files[root@aminglinux-01 ~]#可以看到rm 是不能直接删有文件的目录的。但是加上-r指令，就可以可以全部删除啦。 可以看到文件1.txt也是被直接删除了。如果加上-f命令就会强制性删除，不会问是否删除文件，这样省去如果文件夹或文件过多一直问下去的麻烦。 总结rm 只删除目录里面的文件 rm -r删除所有目录以及文件 rm -f强制删除文件，不提示是否删除 rm -v显示删除过程 rm -rfv 指令可以叠加使用，效果叠加。]]></content>
      <tags>
        <tag>工作日志</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[9月11日 系统目录 文件类型 ls alias 命令]]></title>
    <url>%2F2018%2F12%2F07%2F%E7%B3%BB%E7%BB%9F%E7%9B%AE%E5%BD%95%20%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%20ls%E5%91%BD%E4%BB%A4%20alias%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[系统目录结构linux系统目录结构图：http://www.apelearn.com/study_v2/linux_dir_tree.jpg /bin ：里面装的是用户用的命令，root也可以用 /sbin ：里面是只有root能用的命令。 /boot ：系统启动的相关文件，里面有系统启动的关键文件，删除后系统无法启动 /dev ：linux系统下的设备文件 /etc ：配置文件的所在目录/home ：用户的家目录/lib :存系统库文件的/lib64 :存系统的库文件 很多命令都会依赖一些库，查看命令依赖关系：ldd /media : 媒介目录。默认是空的。比如插一个U盘会自动放到这个目录下面去 /mnt ： 临时挂载目录，默认也是空的。可以把新增的光驱或硬盘挂载这个目录下面 /opt ： 空目录/proc ：里面是一些系统进程/root ：root用户的家目录 /run ：一些进程产生的临时文件，重启就会消失的文件/srv ：空的，存服务产生的文件/sys ：存系统内核的相关文件/tmp ：系统的临时目录，任何一个用户都可以在这个文件夹下读写删除文件。 /usr ：用户的文件， /var ：是一个很重要的目录。 经常用的/var/log ，系统日志。 从centOS7系统以后，就不再区分32位和64位版本，都是64位系统。 总结：/bin，/sbin,/etc,/var,/usr/local这几个目录是用的最多的。常用的。 tree命令：以树形的形式显示一个目录下面都有哪些目录和子文件 如果系统没有tree命令就用yum下载一下 [root@aminglinux-01 /]# yum install -y tree tree -L 是可以设置显示最大层数。 下面试一下只显示两层目录下的结构 [root@aming1 /]# tree -L 2.├── bin -&gt; usr/bin ├── boot │ ├── config-3.10.0-514.el7.x86_64 │ ├── grub │ ├── grub2 │ ├── initramfs-0-rescue-b1022dedd3b74686922ac31f3e680f36.img │ ├── initramfs-3.10.0-514.el7.x86_64.img │ ├── initramfs-3.10.0-514.el7.x86_64kdump.img │ ├── initrd-plymouth.img │ ├── symvers-3.10.0-514.el7.x86_64.gz │ ├── System.map-3.10.0-514.el7.x86_64 │ ├── vmlinuz-0-rescue-b1022dedd3b74686922ac31f3e680f36 │ └── vmlinuz-3.10.0-514.el7.x86_64 ├── dev │ ├── agpgart │ ├── autofs │ ├── block │ ├── bsg │ ├── btrfs-control ls命令ls命令是列取目录或者文件的命令 可以列取一下系统根目录看一下Linux系统都有哪些目录 [root@aming1 /]# ls /bin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr varls命令总结ls -l :列取详细信息 ls -i :列取inode ls -lh :看文件大小更直观 ls -la :列出隐藏文件 ls -lta: t是时间的意思，按时间顺序排列 ls -ld :只列出文件夹 ls命令详解ls -l :列取详细信息（ll命令就是ls -l的缩写）在inode使用量前面11位。第一位表示文件类型，后面九位表示文件权限，最后一个（.）是受制于selinux。如果关闭selinux，新建的文件或目录就会没有(.) [root@aminglinux-01 ~]# ls -l 总用量 4 - rw-------. 1 root root 1422 5月 12 23:06 anaconda-ks.cfg 文件类型 权限 .(selinux) 有几个文件使用了这个inode 所有者 所属组 文件大小 最后改动日期 文件名字 ls -i :列取inode 文件名字前面的数字就是inode号，inode号是储存除了文件名以外的所有文件信息，都存在inode之中。 [root@aming1 ~]# ls 123.txt anaconda-ks.cfg test.txt[root@aming1 ~]# ls -i33599795 123.txt 33574987 anaconda-ks.cfg 33599785 test.txt ls -lh :显示文件大小更直观[root@aming1 ~]# ls -l 总用量 12 -rw-r–r–. 1 root root 96 4月 25 21:33 123.txt-rw——-. 1 root root 1422 3月 17 19:03 anaconda-ks.cfg-rw-r–r–. 1 root root 1008 4月 26 15:30 test.txt [root@aming1 ~]# ls -lh 总用量 12K -rw-r–r–. 1 root root 96 4月 25 21:33 123.txt-rw——-. 1 root root 1.4K 3月 17 19:03 anaconda-ks.cfg-rw-r–r–. 1 root root 1008 4月 26 15:30 test.txt ls -la :列出隐藏文件[root@aming1 ~]# ls -la总用量 40dr-xr-x—. 3 root root 194 4月 26 15:30 .dr-xr-xr-x. 17 root root 224 4月 26 15:29 ..-rw-r–r–. 1 root root 96 4月 25 21:33 123.txt-rw——-. 1 root root 1422 3月 17 19:03 anaconda-ks.cfg-rw——-. 1 root root 2550 5月 11 20:55 .bash_history-rw-r–r–. 1 root root 18 12月 29 2013 .bash_logout-rw-r–r–. 1 root root 176 12月 29 2013 .bash_profile-rw-r–r–. 1 root root 176 12月 29 2013 .bashrc-rw-r–r–. 1 root root 100 12月 29 2013 .cshrcdrwx——. 2 root root 48 5月 11 10:42 .ssh-rw-r–r–. 1 root root 129 12月 29 2013 .tcshrc-rw-r–r–. 1 root root 1008 4月 26 15:30 test.txt-rw——-. 1 root root 1609 4月 25 21:33 .viminfo 其中.开头的文件都是隐藏文件或者目录。 还有两个目录 点和点点 。“.”代表是当前目录 “..”代表的是上层目录 ls -lt ，t是时间的意思，按时间顺序排列,时间越近排在越前面[root@aming1 ~]# ls -lt 总用量 12 -rw-r–r–. 1 root root 1008 4月 26 15:30 test.txt -rw-r–r–. 1 root root 96 4月 25 21:33 123.txt -rw——-. 1 root root 1422 3月 17 19:03 anaconda-ks.cfg ls -ld :只列出文件夹 也可以同时使用 ls -liat [root@aming1 ~]# ls -liat 总用量 40 33574979 -rw——-. 1 root root 2550 5月 11 20:55 .bash_history 50332748 drwx——. 2 root root 48 5月 11 10:42 .ssh 33599785 -rw-r–r–. 1 root root 1008 4月 26 15:30 test.txt33574977 dr-xr-x—. 3 root root 194 4月 26 15:30 . 64 dr-xr-xr-x. 17 root root 224 4月 26 15:29 ..33599796 -rw——-. 1 root root 1609 4月 25 21:33 .viminfo 33599795 -rw-r–r–. 1 root root 96 4月 25 21:33 123.txt 33574987 -rw——-. 1 root root 1422 3月 17 19:03 anaconda-ks.cfg 33975719 -rw-r–r–. 1 root root 18 12月 29 2013 .bash_logout33975720 -rw-r–r–. 1 root root 176 12月 29 2013 .bash_profile33975721 -rw-r–r–. 1 root root 176 12月 29 2013 .bashrc33975722 -rw-r–r–. 1 root root 100 12月 29 2013 .cshrc33975723 -rw-r–r–. 1 root root 129 12月 29 2013 .tcshrc[root@aming1 ~]# 其他命令选项使用也有很多，但是不常用，需要的时候可以man一下进行查看 文件类型文件属性前面第一排就是文件类型，就是在权限前面的 常见的就是： - 是普通文件 d 文件夹 还有一些特殊的文件c : 字符串设备 l : 软连接文件 b : 块设备，比如光盘，磁盘 s : 通信文件 [root@aminglinux-01 ~]# ls -l /dev/ 总用量 0 crw-rw—-. 1 root video 10, 175 8月 4 20:53 agpgart crw——-. 1 root root 10, 235 8月 4 20:53 autofs drwxr-xr-x. 2 root root 140 8月 4 20:53 blockdrwxr-xr-x. 2 root root 80 8月 4 20:53 bsgcrw——-. 1 root root 10, 234 8月 4 20:53 btrfs-controldrwxr-xr-x. 3 root root 60 8月 4 20:53 buslrwxrwxrwx. 1 root root 3 8月 4 20:53 cdrom -&gt; sr0drwxr-xr-x. 2 root root 3020 8月 4 20:53 charcrw——-. 1 root root 5, 1 8月 4 20:53 consolesrw-rw-rw-. 1 root root 0 8月 4 20:53 loglrwxrwxrwx. 1 root root 11 8月 4 20:53 core -&gt; /proc/kcore alias命令alias 就是 命令的别名,是命令加选线得组合。可以理解给一个很长的命令设置一个简单外号，这样可以方便操作。 alias的作用就是，可以简写命令。 用which来查看命令的别名 [root@aminglinux-01 ~]# which lsalias ls=’ls –color=auto’ /usr/bin/ls[root@aminglinux-01 ~]# which ll alias ll=’ls -l –color=auto’ /usr/bin/ls 可以输入alias来看系统有别名的命令有哪些 [root@aming1 ~]# alias alias cp=’cp -i’alias egrep=’egrep –color=auto’alias fgrep=’fgrep –color=auto’alias grep=’grep –color=auto’alias l.=’ls -d .* –color=auto’alias ll=’ls -l –color=auto’alias ls=’ls –color=auto’alias mv=’mv -i’alias rm=’rm -i’alias which=’alias | /usr/bin/which –tty-only –read-alias –show-dot –show-tilde’ 自定义一个别名的格式 ：“ alias aming=’ls -lha’ ” [root@aminglinux-01 ~]# aming -bash: aming: 未找到命令[root@aminglinux-01 ~]# alias aming=’ls -lha’[root@aminglinux-01 ~]# aming 总用量 28K dr-xr-x—. 3 root root 147 8月 3 09:24 .dr-xr-xr-x. 17 root root 224 8月 3 21:06 ..-rw——-. 1 root root 1.4K 7月 31 23:06 anaconda-ks.cfg-rw——-. 1 root root 1.4K 8月 4 16:45 .bash_history-rw-r–r–. 1 root root 18 12月 29 2013 .bash_logout-rw-r–r–. 1 root root 176 12月 29 2013 .bash_profile-rw-r–r–. 1 root root 176 12月 29 2013 .bashrc-rw-r–r–. 1 root root 100 12月 29 2013 .cshrcdrwx——. 2 root root 80 8月 3 22:17 .ssh-rw-r–r–. 1 root root 129 12月 29 2013 .tcshrc 可以看到没有设置别名的时候直接输入aming是不起作用的。可以用which来看一下 [root@aminglinux-01 ~]# which aming alias aming=’ls -lha’ /usr/bin/ls取消aming的别名 用unalias命令 [root@aminglinux-01 ~]# unalias aming[root@aminglinux-01 ~]# aming-bash: aming: 未找到命令]]></content>
      <tags>
        <tag>工作日志</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[9月10日 1.13-1.16 单用户模式 救援模式 克隆虚拟机 linux相互登录]]></title>
    <url>%2F2018%2F12%2F06%2F%E7%94%A8%E6%88%B7%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[单用户模式如果忘记了root密码，怎么办，从新装系统是不现实的，可以通过单用户模式来更改root密码 开机时候在启动项还没有跳转开机的时候迅速按上下方向键#选择第一个选项centos linux (3.10.0——514系列）按“e”进入grub界面，grub是一个引导管理工具注意这个需要更改两个地方，光标下移到红色方框位置，找到“ro”只读的意思改成“rw”读写第二个地方在修改的 ‘rw’ 后面加上 init=/sysroot/bin/sh 然后根据下面提示按“Ctrl-x” 就进入下面的界面了，下面的界面类似在安全模式，还没有到系统里面去，原来的系统在sysroot下面 切换到原系统下输入：chroot /sysroot/ 输入passwd root 设置新密码 然后输入：touch /.autorelabel,这步非常重要，不然无法进入系统 设置完成后就可以重启了。重启之后就可以用新的root密码登录了 https://app.yinxiang.com/shard/s63/nl/13934915/873164af-f53d-4998-b4f8-9679ee9302a0 救援模式首先看一下centos7的7个运行级别 [root@localhost ~]# ls -l /usr/lib/systemd/system/runlevel*target刚刚上面说了利用单用户模式进行更改root密码，是在grub没有设置密码或着已知密码的情况下可以更改root密码。如果进不去grub。那么只能用另一种方法，就是进入救援模式设置grub密码 ： http://ask.apelearn.com/question/18012 救援模式的进入首先需要加载光驱里面或者u盘里面的系统。开机后更改bios启动项，改为cd启动或u盘为第一启动项，保存重启。 下图就是进入系统盘启动了，选择第三项，第一项是安装操作系统，第二项是测试选troubleshooting这项 回车之后又出现几项，选第二项 linux system 然后出现这个再按下回车 出现这个界面，选“1” 继续 之后就进入了命令行界面了，输入它提示的chroot /mut/sysimage/ 之后输入命令passwd root 更改密码就可以了。之后就可以重启用新密码登陆了，把启动项改回硬盘启动救援模式不光可以更改root密码，还可以把不小心修改错了系统文件，进救援模式再改回来，重启恢复 克隆虚拟机有时候在做实验的时候需要2台甚至更多的linux系统，如果都要装一便系统比较麻烦浪费时间。这种问题可以用虚拟机克隆来解决。而且可以节省不必要的磁盘空间。 步骤1 在虚拟机右上方菜单栏找到 虚拟机&gt;管理&gt;克隆然后 下一步下一步 选择创建链接克隆，完整克隆就是全都复制一份也比较慢，占空间 2 设置名称和储存位置 3 成功后这边就出现两个虚拟机了 4 开机之后要更改下ip地址，因为是克隆的，不然会有IP冲突,更改IP时UUID也需要删除以下 5 最后更改下两台机器的主机名查看主机名称：hostname 永久更改主机名称：hostnamectl set-hostname aminglinux-02 Linux机器互相登陆如果需要远程连接的系统没有没有关闭selinux，输入getenforce命令，显示Enforcing表示开启，显示Permissive表示关闭。输入命令：setenforce 0,可以临时关闭，重启后恢复。 1 远程登陆命令格式：ssh username@IP 或者ssh -p 指定端口号 username@IP 2 “w”命令查看有几个客户端进行连接 3 linux系统也是可以生产密钥对来进行连接的假如我们用2机器连接1机器，那么肯定2机器上有一个私钥，1机器上有一个公钥。这样的思路就是我们要生成一对儿密钥，然后把公钥写到1机器的/root/.ssh/authorized_keys里面去。 4 linux生成密钥工具 ssh-keygen,假如我们用2机器连接1机器，那么肯定2机器上有一个私钥，1机器上有一个公钥。这样的思路就是我们要生成一对儿密钥，然后把公钥写到1机器的/root/.ssh/authorized_keys里面去。 5 linux生成密钥工具 ssh-keygen查看公钥并且写到要访问的计算机配置文件里。然后把这个复制下来写入到需要远程登陆的机器/root/.ssh/authorized_keys这个文件中之后即可用密钥认证登陆。 https://app.yinxiang.com/shard/s63/nl/13934915/2d4914b3-7275-469d-b0d7-5c2d09c67100]]></content>
      <tags>
        <tag>工作日志</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[9月7日 1.12 linux 远程登录]]></title>
    <url>%2F2018%2F12%2F06%2F1.12%20linux%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E7%99%BB%E5%BD%95%2F</url>
    <content type="text"><![CDATA[下载PuTTY 下载地址：https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html 使用PuTTY 设置PuTTY 修改默认终端保存的显示行数，默认显示200行，在查看的文件如果很长超过200行就非常不方便了，可自定义行数 设置字体，大小适中 修改字符编码。一般用UTF-8，这样在输出中文的时候不会乱码 设置完成后点Session回主页面，点击Save保存 PuTTY的密钥连接 使用PuTTYgen工具 （在windows搜一下，与putty一起下载安装好的） 打开后点击Generate,生成密钥对，在进度条时候鼠标要一直移动，不然会非常慢 公钥复制下来就可以了，私钥必须保存一下点：Save private Key，保存在电脑一个比较安全的地方 把公钥放到linux下 [root@localhost ~]# mkdir /root/.ssh [root@localhost ~]# chmod 700 /root/.ssh [root@localhost ~]# vi /root/.ssh/authorized_keys 然后把公钥复制进去保存退出 还要关闭防火墙selinux [root@localhost ~]# setenforce 0 然后配置私钥到PuTTY,选完了一定要返回首页保存一下，点一下Save，不然下次还要重新配置 然后Open一下，输入用户名密码，以及私钥的加密密码就OK啦 二、Xshell下载 这里是列表文本官网下载地址：https://www.netsarang.com/download/down_form.html?code=522 直接在页面中有红色*号的地方输入个人信息，licensetype 必须选 Home and School use（家庭和个人使用），最主要的是输入邮箱（必须是个人的可以接收邮件的邮箱，会给你发邮件），最后的Productkey可以不用填写，然后点击提交； 之后邮箱会接到一个链接，点开后会直接下载，这样不会出现评估过期等问题 输入IP和端口 在这里可以直接自动登陆保存好登陆的用户及密码红色框部分是可以切换登陆模式，比如密钥登陆等 其他设置，配色方案不要改，其他根据自己的需求去调整 PuTTY优点，可以保存用户名密码，自动连接比较方便。多窗口切换非常方便。 Xshell的密钥验证点击软件的 工具&gt;新建用户密钥生成向导 这样公钥就生成了 这个密钥同样要写到 [root@localhost ~]# vi /root/.ssh/authorized_keys这个里面去的 然后需要在用户身份验证方法改成Public Key模式如操作完成点击连接]]></content>
      <tags>
        <tag>工作日志</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[9月6日 1.6-1.8 配置ip]]></title>
    <url>%2F2018%2F12%2F06%2F1.6%20-1.8%20%E9%85%8D%E7%BD%AEip%2F</url>
    <content type="text"><![CDATA[因为在学习过程和工作的时候直接用键盘鼠标连接服务器是不现实的，所以需要配置固定IP来进行远程连接。 首先把虚拟机的网络改成NET模式，优点是物理机切换网络不影响虚拟机连接外网。除了有限制的网络环境公司或校园网等。 进入系统后先dhclient自动获取一个IP地址。然后ip add 或者ifconfig命令查看网卡信息。 如果dhclient进程占用可以dhclient -r 杀死然后在运行dhclient 如果centOS7里没有ifconfig这个命令，就安装一下：yum install -y net-tools 获取到IP地址之后查看 网关 查看网关命令：route -n 或者点击虚拟机的 编辑&gt;虚拟网络编辑器&gt;NET设置 看下网关 配置静态IP 首先用vi编辑器编辑一下网卡的配置，把刚刚获取到得IP,子网，网关等填写到网卡得配置文件里，可以永久设置静态IP。 * 编辑网卡输入 vi /etc/sysconfig/network-scripts/ifcfg-ens33 TYPE=Ethernet BOOTPROTO=static 默认是dhcp改成静态static DEFROUTE=yes PEERDNS=yes PEERROUTES=yes IPV4_FAILURE_FATAL=no IPV6INIT=yes IPV6_AUTOCONF=yes IPV6_DEFROUTE=yes IPV6_PEERDNS=yes IPV6_PEERROUTES=yes IPV6_FAILURE_FATAL=no IPV6_ADDR_GEN_MODE=stable-privacy NAME=ens33 UUID=a2546330-9655-40b0-b84a-9bec807ac428 DEVICE=ens33 ONBOOT=yes 开机自起 默认是no改成yes IPADDR=192.168.159.128 添加IP NETMASK=255.255.255.0 添加子网 GATEWAY=192.168.159.2 添加网关 DNS1=119.29.29.29按Esc退出编辑模式输入：wq 保存退出 以上是永久设置IP,用以下命令可以暂时设置IP地址 例如 ：ifconfig ens33 192.168.234.129/24 命令行设置ip (重启后失效，改配置文件才会永久生效) 然后重启网络服务systemctl restart network * ping 下百度网址看通不通，用物理机ping下虚拟机的IP看通不通讯。都可以ping通就配置完成 * 如果执行 service network restart 出现以下错误 Restarting network (via systemctl): Job for network.service failed. See &apos;systemctl status network.service&apos; and &apos;journalctl -xn&apos; for details. 这个可能是网卡配置信息得MAC地址不对，ipadd 查看一下网卡得mac地址，然后对比配置文件如果不对需要修改 网络问题排查 如果以上不通讯，说明还是有问题存在的，需要进行网络问题排查 首先确认所在网络环境是否支持虚拟机网卡NET模式，如不支持则更换为桥接模式（虚拟机&gt;设置&gt;网络适配器） 然后重新获取下动态IP然后在网卡配置信息里设置静态IP 如果所在网络环境是可以正常使用NET模式，打开vi /etc/sysconfig/network-scripts/ifcfg-ens33网卡配置文件更改是否正确。 以上方法都不可以恢复，可以删除下虚拟8网卡重新添加 （编辑&gt;虚拟网络编辑器&gt;选中VMnet8移除网络&gt;添加VMnet8模式改为NET） 重新配置静态IP。]]></content>
      <tags>
        <tag>工作日志</tag>
      </tags>
  </entry>
</search>
